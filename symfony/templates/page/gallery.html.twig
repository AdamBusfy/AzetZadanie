{% extends 'base.html.twig' %}
{% block title %}HomePage{% endblock %}

{% block stylesheets %}
    {{ encore_entry_link_tags('pageGallery') }}
    {{ encore_entry_script_tags('pageGallery') }}
{% endblock %}

{% block body %}

    {% for message in app.flashes('success_delete_photo') %}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    {% endfor %}

    {{ include('layouts/navbar.html.twig') }}
    {{ include('layouts/uploadPhoto.html.twig') }}
    {# {{ include('layouts/editPhoto.html.twig') }} #}

    <div class="container">
        <div class="row mt-5" id="gallery">
            <div class="col-sm-6 col-md-4 col-xl-3 mt-4">
                <div class="card" data-toggle="modal" data-target="#exampleModal">
                    <div class="card-img-top"
                         style="height:250px ;background-size:cover;background-image: url('https://cdn.pixabay.com/photo/2017/04/20/07/07/add-2244771_960_720.png')"></div>
                    <div class="card-body">
                        <h5 class="card-title text-truncate"><strong>New Photo</strong></h5>
                        <p class="card-text text-truncate" style="font-size: 14px;">Click to create</p>
                    </div>
                </div>
            </div>
            {% for item in items %}
                {% set deleteForm = deletePhotoForm.createView %}
                <div class="col-sm-6 col-md-4 col-xl-3 mt-4">
                    <div class="card">
                        <div class="card-img-top item"
                             style="height:250px;background-size:cover;background-image: url('{{ asset(item.photo) }}')"
                             data-src="{{ asset(item.photo) }}">
                            <img class="d-none" src="{{ asset(item.photo) }}" alt="{{ item.name }}"/>
                        </div>
                        <div class="card-body">
                            {{ form_start(deleteForm, { attr: { onsubmit: 'return confirm("Are you sure you want to delete this photo?");' } }) }}
                            {{ form_row(deleteForm.id, { attr: { value: item.id } }) }}
                            {{ form_row(deleteForm.submitButton) }}
                            {{ form_end(deleteForm) }}

                            {# <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#editModal">Edit</button> #}

                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    <div class="behind_text">
        <p>Photos</p>
    </div>



{% endblock %}
